"use strict";(self.webpackChunktalk_call_chat_frontend=self.webpackChunktalk_call_chat_frontend||[]).push([[945],{86945:(e,l,s)=>{s.r(l),s.d(l,{default:()=>P});var t=s(3180),a=s(65043),r=s(73216),o=s(70579);const i=()=>{const e=(0,r.Zp)(),l=(0,a.useContext)(t.cy);return(0,o.jsxs)("div",{className:"h-[14vh] flex items-center gap-12 px-24 bg-white",children:[(0,o.jsx)("div",{className:"flex items-center justify-center h-8 w-8 p-2 cursor-pointer text-white rounded-lg select-none bg-gray-900",onClick:()=>e(-1),children:"<"}),(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("p",{className:"text-[24px] font-bold",children:"#ID:"}),(0,o.jsx)("p",{className:"text-[20px] font-semibold",children:l.user.id})]}),(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("p",{className:"text-[24px] font-bold",children:"Login:"}),(0,o.jsx)("p",{className:"text-[20px] font-semibold",children:l.user.name})]}),(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("p",{className:"text-[24px] font-bold",children:"Role:"}),(0,o.jsx)("p",{className:"text-[20px] font-semibold",children:l.user.role.label})]})]})};var d=s(86213),n=s(20870),c=s(55978);const h="text-black text-lg font-semibold",x="text-gray-700 px-2 py-1 min-w-[50vh] outline-none hover:bg-blue-100 border border-slate-300 rounded-md",u=e=>{let{handleUpdateUser:l,handleDeleteUser:s,isDisabled:t,user_info:a,setUserInfo:r,type:i}=e;return(0,o.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,o.jsx)("p",{className:"text-[24px] font-bold",children:"#ID:"}),(0,o.jsx)("input",{type:"text",className:x,value:null===a||void 0===a?void 0:a.id,onChange:e=>r({...a,id:e.target.value}),disabled:!0}),(0,o.jsx)("p",{className:"text-[24px] font-bold",children:"Name:"}),(0,o.jsx)("input",{type:"text",className:x,value:null===a||void 0===a?void 0:a.name,onChange:e=>r({...a,name:e.target.value}),disabled:t}),(0,o.jsx)("p",{className:"text-[24px] font-bold",children:"PASSWORD:"}),(0,o.jsx)("input",{type:"text",className:x,value:null===a||void 0===a?void 0:a.password,onChange:e=>r({...a,password:e.target.value}),disabled:t}),(0,o.jsx)("p",{className:"text-[24px] font-bold",children:"Role:"}),(0,o.jsx)("input",{type:"text",className:x,value:null===a||void 0===a?void 0:a.role,onChange:e=>r({...a,role:e.target.value}),disabled:t}),2===i&&(0,o.jsx)("button",{onClick:()=>l(),className:"ml-auto border border-slate-300 rounded-lg bg-white p-2 hover:bg-blue-100 mt-3",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),3===i&&(0,o.jsx)("button",{onClick:()=>s(),className:"ml-auto border border-slate-300 rounded-lg bg-white p-2 hover:bg-blue-100 mt-3",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})},m=e=>{let{type:l,user:s}=e;const r=0===l||3===l,i=((0,a.useContext)(t.cy),(0,a.useContext)(n.r)),[c,m]=(0,a.useState)({id:null,name:"",password:"",role:null}),[p,b]=(0,a.useState)(s);return(0,o.jsxs)("div",{children:[(0===l||2===l||3===l)&&(0,o.jsx)("div",{className:"flex flex-col gap-3",children:(0,o.jsx)(u,{handleUpdateUser:async()=>{null===p||void 0===p||!p.id||(null===p||void 0===p?void 0:p.name.length)<3||(null===p||void 0===p?void 0:p.password.length)<6||null===(null===p||void 0===p?void 0:p.role)||void 0===(null===p||void 0===p?void 0:p.role)?i.notification.show("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f / \u041c\u0438\u043d\u0438\u043c\u0443\u043c: \u043f\u0430\u0440\u043e\u043b\u044c - 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432, \u043b\u043e\u0433\u0438\u043d - 3","error"):await(0,d.A)({method:"PATCH",url:"/users/".concat(null===p||void 0===p?void 0:p.id),data:{name:null===p||void 0===p?void 0:p.name,password:null===p||void 0===p?void 0:p.password,role:null===p||void 0===p?void 0:p.role}}).then((()=>{i.notification.show("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d!","success"),i.modal.hide()})).catch((e=>i.notification.show(e.response.data.detail,"error")))},handleDeleteUser:async()=>{window.confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?")&&await(0,d.A)({method:"DELETE",url:"/users/".concat(null===p||void 0===p?void 0:p.id)}).then((()=>{i.notification.show("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d!","success"),i.modal.hide()})).catch((e=>i.notification.show(e.response.data.detail,"error")))},isDisabled:r,user_info:p,setUserInfo:b,type:l})}),1===l&&(0,o.jsxs)("div",{className:"flex flex-col gap-3 mt-4",children:[(0,o.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,o.jsx)("label",{className:h,children:"\u041b\u043e\u0433\u0438\u043d:"}),(0,o.jsx)("input",{type:"text",className:x,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d...",value:(null===c||void 0===c?void 0:c.name)||"",onChange:e=>m({...c,name:e.target.value})})]}),(0,o.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,o.jsx)("label",{className:h,children:"\u041f\u0430\u0440\u043e\u043b\u044c:"}),(0,o.jsx)("input",{type:"password",className:x,value:(null===c||void 0===c?void 0:c.password)||"",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c...",onChange:e=>m({...c,password:e.target.value})})]}),(0,o.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,o.jsx)("label",{className:h,children:"\u0420\u043e\u043b\u044c:"}),(0,o.jsx)("input",{type:"number",className:x,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0440\u043e\u043b\u044c...",value:(null===c||void 0===c?void 0:c.role)||"",onChange:e=>m({...c,role:e.target.value})})]}),(0,o.jsx)("button",{onClick:()=>(async()=>{(null===c||void 0===c?void 0:c.name.length)<3||(null===c||void 0===c?void 0:c.password.length)<5||null===c||void 0===c||!c.role?i.notification.show("\u041b\u043e\u0433\u0438\u043d \u0431\u043e\u043b\u044c\u0448\u0435 3, \u043f\u0430\u0440\u043e\u043b\u044c \u0431\u043e\u043b\u044c\u0448\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432!","error"):await(0,d.A)({method:"POST",url:"/users",data:{name:null===c||void 0===c?void 0:c.name,password:null===c||void 0===c?void 0:c.password,role:null===c||void 0===c?void 0:c.role}}).then((e=>{i.notification.show("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d!","success"),i.modal.hide()})).catch((e=>i.notification.show(e.response.data.detail,"error")))})(),className:"border border-slate-300 rounded-lg bg-white p-2 hover:bg-blue-100",children:"C\u043e\u0437\u0434\u0430\u0442\u044c"})]})]})},p=[{title:"\u041d\u0430\u0439\u0442\u0438"},{title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"},{title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"},{title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}],b=e=>{let{users:l,fetchUsers:s}=e;return(0,o.jsx)("div",{className:"min-h-[20vh] bg-blue-300 py-2 px-6 flex flex-col sm:flex-row items-center gap-6",children:p.map(((e,t)=>(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(v,{users:l,title:e.title,fetchUsers:s})},e.title)))})},v=e=>{let{users:l,title:s,fetchUsers:t}=e;const r=(0,a.useContext)(n.r),[i,d]=(0,a.useState)(null),h=(e,l,s)=>{r.modal.show({title:s,children:(0,o.jsx)(m,{type:e,user:l})},(()=>t()))};return(0,o.jsxs)("div",{className:"w-full sm:w-1/4 h-[15vh] bg-white border border-slate-300 rounded-lg px-4 py-2",children:[(0,o.jsx)("p",{className:"text-[24px] font-semibold mb-2",children:s}),"\u041d\u0430\u0439\u0442\u0438"===s&&(0,o.jsx)(c.nr,{className:"w-full",selectClass:"text-sm w-full",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",options:null!==l&&void 0!==l?l:[],value:i,onChange:(e,l)=>{d(e),h(0,l,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435")},hide:!0}),"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"===s&&(0,o.jsx)("button",{onClick:()=>h(1,null,"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),className:"border border-slate-300 rounded-lg bg-white p-2 hover:bg-blue-100",children:"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"}),"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"===s&&(0,o.jsx)(c.nr,{className:"w-full",selectClass:"text-sm w-full",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",options:null!==l&&void 0!==l?l:[],value:i,onChange:(e,l)=>{d(e),h(2,l,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435")},hide:!0}),"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"===s&&(0,o.jsx)(c.nr,{className:"w-full",selectClass:"text-sm w-full",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",options:null!==l&&void 0!==l?l:[],value:i,onChange:(e,l)=>{d(e),h(3,l,"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")},hide:!0})]})};var g=s(77658),f=s(6058);g.t1.register(g.PP,g.kc,g.E8,g.hE,g.m_,g.s$,g.FN,g.No,g.Bs);const j={labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"# of Votes",data:[12,19,3,5,2,3],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)","rgba(255, 159, 64, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)"],borderWidth:1}]},w={labels:["January","February","March","April","May","June","July"],datasets:[{label:"My First dataset",data:[65,59,80,81,56,55,40],fill:!1,backgroundColor:"rgb(75, 192, 192)",borderColor:"rgba(75, 192, 192, 0.2)"}]},N={labels:["Red","Blue","Yellow"],datasets:[{label:"# of Votes",data:[12,19,3],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)"],borderWidth:1}]},C=()=>(0,o.jsxs)("div",{className:"min-h-[40vh] bg-red-300 flex items-center flex-col sm:flex-row gap-3 px-6 py-6",children:[(0,o.jsx)("div",{className:"w-full sm:w-1/3 min-h-[250px] flex items-center justify-center bg-white border border-slate-300 rounded-lg px-2 py-2",children:(0,o.jsx)(f.yP,{data:j})}),(0,o.jsx)("div",{className:"w-full sm:w-1/3 h-[250px] flex items-center justify-center bg-white border border-slate-300 rounded-lg px-2 py-2",children:(0,o.jsx)("div",{style:{width:"220px",height:"220px"},children:(0,o.jsx)(f.Fq,{data:N})})}),(0,o.jsx)("div",{className:"w-full sm:w-1/3 min-h-[250px] flex items-center justify-center bg-white border border-slate-300 rounded-lg px-2 py-2",children:(0,o.jsx)(f.N1,{data:w})})]}),y="w-full sm:w-1/4 bg-white border border-slate-300 rounded-lg h-full overflow-hidden",z="h-2/3 flex items-center justify-between px-5",k="flex flex-col",M="text-[20px]",U="ml-auto text-[24px] font-semibold",H="h-1/3 border-t border-slate-300 flex items-center px-5",S="text-[16px] text-gray-400 font-semibold",_=[{icon:(0,o.jsx)("svg",{viewBox:"0 0 640 512",fill:"currentColor",height:"4em",width:"4em",children:(0,o.jsx)("path",{d:"M144 160c-44.2 0-80-35.8-80-80S99.8 0 144 0s80 35.8 80 80-35.8 80-80 80zm368 0c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7-1.3 7.2-1.9 14.7-1.9 22.3 0 38.2 16.8 72.5 43.3 96H21.3C9.6 320 0 310.4 0 298.7zM405.3 320h-.7c26.6-23.5 43.3-57.8 43.3-96 0-7.6-.7-15-1.9-22.3 13.6-6.3 28.7-9.7 44.6-9.7h42.7c58.9 0 106.7 47.8 106.7 106.7 0 11.8-9.6 21.3-21.3 21.3H405.3zm10.7-96c0 53-43 96-96 96s-96-43-96-96 43-96 96-96 96 43 96 96zM128 485.3c0-73.6 59.7-133.3 133.3-133.3h117.4c73.6 0 133.3 59.7 133.3 133.3 0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"})}),title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",description:"200",time:"Updated now"},{icon:(0,o.jsx)("svg",{viewBox:"0 0 640 512",fill:"currentColor",height:"4em",width:"4em",children:(0,o.jsx)("path",{d:"M144 160c-44.2 0-80-35.8-80-80S99.8 0 144 0s80 35.8 80 80-35.8 80-80 80zm368 0c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7-1.3 7.2-1.9 14.7-1.9 22.3 0 38.2 16.8 72.5 43.3 96H21.3C9.6 320 0 310.4 0 298.7zM405.3 320h-.7c26.6-23.5 43.3-57.8 43.3-96 0-7.6-.7-15-1.9-22.3 13.6-6.3 28.7-9.7 44.6-9.7h42.7c58.9 0 106.7 47.8 106.7 106.7 0 11.8-9.6 21.3-21.3 21.3H405.3zm10.7-96c0 53-43 96-96 96s-96-43-96-96 43-96 96-96 96 43 96 96zM128 485.3c0-73.6 59.7-133.3 133.3-133.3h117.4c73.6 0 133.3 59.7 133.3 133.3 0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"})}),title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 2",description:"200",time:"Updated now"},{icon:(0,o.jsx)("svg",{viewBox:"0 0 640 512",fill:"currentColor",height:"4em",width:"4em",children:(0,o.jsx)("path",{d:"M144 160c-44.2 0-80-35.8-80-80S99.8 0 144 0s80 35.8 80 80-35.8 80-80 80zm368 0c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80zM0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7-1.3 7.2-1.9 14.7-1.9 22.3 0 38.2 16.8 72.5 43.3 96H21.3C9.6 320 0 310.4 0 298.7zM405.3 320h-.7c26.6-23.5 43.3-57.8 43.3-96 0-7.6-.7-15-1.9-22.3 13.6-6.3 28.7-9.7 44.6-9.7h42.7c58.9 0 106.7 47.8 106.7 106.7 0 11.8-9.6 21.3-21.3 21.3H405.3zm10.7-96c0 53-43 96-96 96s-96-43-96-96 43-96 96-96 96 43 96 96zM128 485.3c0-73.6 59.7-133.3 133.3-133.3h117.4c73.6 0 133.3 59.7 133.3 133.3 0 14.7-11.9 26.7-26.7 26.7H154.7c-14.7 0-26.7-11.9-26.7-26.7z"})}),title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 3",description:"200",time:"Updated now"}],D=()=>{(0,a.useContext)(t.cy),(0,a.useContext)(n.r);return(0,o.jsx)("div",{className:"sm:h-[26vh] bg-green-200 flex items-center flex-col sm:flex-row gap-6 sm:gap-12 px-6 py-6",children:_.map(((e,l)=>(0,o.jsx)(a.Fragment,{children:(0,o.jsx)(A,{icon:e.icon,title:e.title,description:e.description,time:e.time})},e.title)))})},A=e=>{let{icon:l,title:s,description:t,time:a}=e;return(0,o.jsxs)("div",{className:y,children:[(0,o.jsxs)("div",{className:z,children:[l,(0,o.jsxs)("div",{className:k,children:[(0,o.jsx)("p",{className:M,children:s}),(0,o.jsx)("p",{className:U,children:t})]})]}),(0,o.jsx)("div",{className:H,children:(0,o.jsx)("p",{className:S,children:a})})]})},E=()=>{(0,r.Zp)(),(0,a.useContext)(t.cy);const e=(0,a.useContext)(n.r),[l,s]=(0,a.useState)([]);(0,a.useEffect)((()=>{i()}),[]);const i=async()=>{await(0,d.A)({method:"GET",url:"/users"}).then((e=>{s(e.data.users)})).catch((l=>e.notification.show(l.response.data.detail,"error")))};return(0,o.jsxs)("div",{className:"h-[86vh] w-full",children:[(0,o.jsx)(b,{users:l,fetchUsers:i}),(0,o.jsx)(C,{}),(0,o.jsx)(D,{})]})},P=()=>(0,o.jsxs)("div",{className:"min-w-full min-h-[100vh]",children:[(0,o.jsx)(i,{}),(0,o.jsx)(E,{})]})}}]);
//# sourceMappingURL=945.602f957e.chunk.js.map