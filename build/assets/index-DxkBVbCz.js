import{r as l,V as m,f,l as j,m as v,j as e,n as b,o as N}from"./index-CTEwi52n.js";const o={container:`
    flex w-[80%] lg:w-[60%] h-[80vh] lg:h-[70vh] border border-gray-300
    dark:border-neutral-200 rounded-xl shadow-2xl
    shadow-neutral-400 dark:shadow-none
  `,left_section:`
    hidden xl:flex items-center justify-center w-1/2
    border-r border-gray-300 dark:border-neutral-200
    h-full rounded-xl
  `,right_section:`
    w-full xl:w-1/2 h-full flex flex-col items-center
    justify-between py-6 lg:py-12
  `},k=()=>{const r=l.useContext(m),d=f(),n=j(),[c,x]=l.useState(""),[i,u]=l.useState(""),[h,{isError:g,isLoading:w}]=v(),p=async()=>{var s;try{const t=await h({name:c,password:i}).unwrap();n(b(t.user)),n(N(t.accessToken)),d("/")}catch(t){console.error("Failed to login:",t);const a=t;console.error("Login failed:",a),console.error("Login failed:",t),r==null||r.notification.show(((s=a==null?void 0:a.data)==null?void 0:s.error)||a.message||"An error occurred","error")}};return e.jsxs("div",{className:o.container,children:[e.jsx("section",{className:o.left_section,children:e.jsx("img",{src:"pics/auth-form-bg.svg",alt:"auth-form-bg"})}),e.jsxs("section",{className:o.right_section,children:[e.jsx("img",{src:"pics/logo.png",alt:"logo",className:"w-16 sm:w-20"}),e.jsx("p",{className:"text-3xl font-bold text-black dark:text-white",children:"Приветствуем!"}),e.jsx("p",{className:"text-lg text-gray-400 break-words text-center px-6",children:"Пожалуйста введите данные для продолжения."}),e.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 w-[70%]",children:[e.jsxs("label",{className:"input input-bordered flex items-center gap-2 w-full",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"h-4 w-4 opacity-70",children:e.jsx("path",{d:"M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM12.735 14c.618 0 1.093-.561.872-1.139a6.002 6.002 0 0 0-11.215 0c-.22.578.254 1.139.872 1.139h9.47Z"})}),e.jsx("input",{type:"text",className:"grow w-full",placeholder:"Username",value:c,onChange:s=>x(s.target.value)})]}),e.jsxs("label",{className:"input input-bordered flex items-center gap-2 w-full",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"h-4 w-4 opacity-70",children:e.jsx("path",{fillRule:"evenodd",d:"M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z",clipRule:"evenodd"})}),e.jsx("input",{type:"password",className:"grow w-full",placeholder:"******",value:i,onChange:s=>u(s.target.value)})]})]}),e.jsx("button",{onClick:()=>p(),className:"btn btn-active btn-secondary",disabled:w,children:"Войти"}),g&&e.jsx("div",{className:"text-red-500",children:"Ошибка, попробуйте ещё раз."})]})]})};export{k as default};
